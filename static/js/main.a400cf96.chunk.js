(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a(38)},23:function(e,t,a){},25:function(e,t,a){},30:function(e,t,a){},32:function(e,t,a){},35:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(16),r=a.n(c),s=a(6),l=a(7),o=a(10),u=a(8),d=a(9),m=a(3),h=(a(23),a(40)),p=a(42),f=a(41),v=(a(25),a(11)),b=function(e){var t=e.children,a=Object(v.a)(e,["children"]);return i.a.createElement("button",a,t)},y=function(e){var t=e.children,a=Object(v.a)(e,["children"]);return i.a.createElement("input",a,t)},E=a(39),k=function(e){var t=e.city,a=e.error,n=Object(v.a)(e,["city","error"]),c=!a&&t&&i.a.createElement(E.a,Object.assign({to:"/city/"+t},n),t," "),r=a&&i.a.createElement("p",null,"M\u011bsto nenalezeno");return i.a.createElement("div",null,c,r)},D=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={data:[]},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("pocasiapp"));if(null!==e){var t=e.filter(function(e,t,a){return a.indexOf(e)===t});this.setState({data:t})}}},{key:"renderLinks",value:function(){var e=this;return this.state.data.map(function(t,a){return i.a.createElement("div",{key:a,className:"historyLinkDiv"},i.a.createElement(E.a,{to:"/city/"+t,onClick:e.props.fetchData.bind(e,t)}," ",t))})}},{key:"render",value:function(){return i.a.createElement("div",{className:"historyDiv"},i.a.createElement("h3",null,"Historie vyhled\xe1v\xe1n\xed"),i.a.createElement("div",{className:"linksWrapper"},this.renderLinks()))}}]),t}(n.Component),O=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={city:""},e.onChange=e.onChange.bind(Object(m.a)(Object(m.a)(e))),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"onChange",value:function(e){this.setState({city:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault(),this.props.fetchData(this.state.city),this.setState({city:""})}},{key:"render",value:function(){return i.a.createElement("div",{className:"formWrapper"},i.a.createElement("form",{className:"form",onSubmit:this.onSubmit.bind(this)},i.a.createElement(y,{className:"cityInput",placeholder:"Vypl\u0148te m\u011bsto",onChange:this.onChange,value:this.state.city}),i.a.createElement(b,{className:"submitButton",type:"submit"},"Vyhledat")),i.a.createElement("div",{className:"linkDiv"},i.a.createElement(k,{city:this.props.data.name,error:this.props.error})),i.a.createElement(D,{fetchData:this.props.fetchData.bind(this)}))}}]),t}(n.Component),j=function(e){var t=e.children,a=Object(v.a)(e,["children"]);return i.a.createElement("span",a,t)},g=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.data;return i.a.createElement("div",{className:"tempWrapper"},i.a.createElement("div",{className:"tempDiv"},i.a.createElement("span",null,"Teplota: "),i.a.createElement(j,{className:"temp"},Math.round(10*e.main.temp)/10," \xb0C")),i.a.createElement("div",{className:"tempMinDiv"},i.a.createElement("span",null,"Minim\xe1ln\xed teplota: "),i.a.createElement(j,{className:"tempMin"},Math.round(10*e.main.temp_min)/10," \xb0C")),i.a.createElement("div",{className:"tempMaxDiv"},i.a.createElement("span",null,"Maxim\xe1ln\xed teplota: "),i.a.createElement(j,{className:"tempMax"},Math.round(10*e.main.temp_max)/10," \xb0C")))}}]),t}(n.Component),C=function(e){var t=e.wind,a=e.windDirection;return t?i.a.createElement("div",{className:"windDirDiv"},i.a.createElement("span",null,"Sm\u011br v\u011btru: "),i.a.createElement("span",{className:"windDeg"},a)):null},w=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).handleWindDeg=e.handleWindDeg.bind(Object(m.a)(Object(m.a)(e))),e.windForce=e.windForce.bind(Object(m.a)(Object(m.a)(e))),e.windDirection=e.windDirection.bind(Object(m.a)(Object(m.a)(e))),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleWindDeg",value:function(){return this.props.data.wind.deg}},{key:"windForce",value:function(e){return e>0&&e<.2?"Bezv\u011bt\u0159\xed":e>.3&&e<=1.5?"V\xe1nek":e>1.6&&e<=3.3?"Slab\xfd v\xedtr":e>3.4&&e<=5.4?"M\xedrn\xfd v\xedtr":e>5.5&&e<=7.9?"Dosti \u010derstv\xfd v\xedtr":e>8&&e<=10.7?"\u010cerstv\xfd v\xedtr":e>10.8&&e<=13.8?"Siln\xfd v\xedtr":e>13.9&&e<=17.1?"Prudk\xfd v\xedtr":e>17.2&&e<=20.7?"Bou\u0159liv\xfd v\xedtr":e>20.8&&e<=24.4?"Vich\u0159ice":e>24.5&&e<=28.4?"Siln\xe1 vich\u0159ice":e>28.5&&e<=32.6?"Mohutn\xe1 vich\u0159ice":"Ork\xe1n"}},{key:"windDirection",value:function(e){return["S","SSV","SV","VSV","V","VJV","JV","JJV","J","JJZ","JZ","ZJZ","Z","ZSZ","SZ","SSZ"][Math.floor(e/22.5+.5)%16]}},{key:"render",value:function(){var e=this.props.data;return i.a.createElement("div",{className:"windWrapper"},i.a.createElement("div",{className:"windSpeedDiv"},i.a.createElement("span",null," Rychlost v\u011btru: "),i.a.createElement(j,{className:"windSpeed"},Math.round(10*e.wind.speed)/10," m/s"),i.a.createElement("span",null,"(",this.windForce(e.wind.speed),")")),i.a.createElement(C,{className:"windDir",wind:this.handleWindDeg(),windDirection:this.windDirection(e.wind.deg)}))}}]),t}(n.Component),N=(a(30),function(e){var t=e.classClicked,a=e.fifthDisplay,n=Object(v.a)(e,["classClicked","fifthDisplay"]);return i.a.createElement("div",{className:"moreDays "+t},i.a.createElement(b,{className:"ForecastDayButton",onClick:n.onClick.bind(void 0,0)},"Dnes"),i.a.createElement(b,{className:"ForecastDayButton",onClick:n.onClick.bind(void 0,1)},"+1"),i.a.createElement(b,{className:"ForecastDayButton",onClick:n.onClick.bind(void 0,2)},"+2"),i.a.createElement(b,{className:"ForecastDayButton",onClick:n.onClick.bind(void 0,3)},"+3"),i.a.createElement(b,{className:"ForecastDayButton",onClick:n.onClick.bind(void 0,4)},"+4"),i.a.createElement(b,{className:"ForecastDayButton",style:{display:a},onClick:n.onClick.bind(void 0,5)},"+5"))}),S=function(e){var t=e.children,a=Object(v.a)(e,["children"]);return i.a.createElement("h3",a,t)},F=(a(32),a(35),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={data:{},forecastData:[],city:"",icon:"",today:"",time:"",classClicked:"",display:"",displayTime:"",fifthDisplay:"none"},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"onClickFetchForecast",value:function(){var e=this,t=this.props;fetch(t.API+t.forecast+t.data.name+"&"+t.metrics+"&"+t.lang+"&"+t.APIKEY).then(function(e){return e.json()}).then(function(t){var a=t.list.filter(function(e){return e.dt_txt.includes("12:00")});(new Date).getHours()>=14&&e.setState({fifthDisplay:"block"}),e.setState({forecastData:a,classClicked:"clicked",display:"none"})})}},{key:"onClickForecast",value:function(e){var t=this;if(0===e)this.setState({data:this.props.data,displayTime:"block"},function(){t.getDate(),t.updateIcon()});else if((new Date).getHours()>=14){var a=e-1;this.setState({data:this.state.forecastData[a],displayTime:"none"},function(){t.getDate(),t.updateIcon()})}else this.setState({data:this.state.forecastData[e],displayTime:"none"},function(){t.getDate(),t.updateIcon()})}},{key:"getDate",value:function(){var e=new Date(1e3*this.state.data.dt),t=e.getDate(),a=e.getMonth()+1,n=e.getFullYear(),i=e.getMinutes(),c=e.getHours();t<10&&(t="0"+t),a<10&&(a="0"+a),i<10&&(i="0"+i),c<10&&(c="0"+c);var r=t+"/"+a+"/"+n,s=c+":"+i;this.setState({today:r,time:s})}},{key:"componentDidMount",value:function(){var e=this;this.setState({data:this.props.data,city:this.props.data.name},function(){e.getDate(),Object.keys(e.props.data).length>0&&"01d"===e.props.data.weather[0].icon&&e.setState({icon:"sunny"})})}},{key:"updateIcon",value:function(){"01d"===this.state.data.weather[0].icon?this.setState({icon:"sunny"}):this.setState({icon:""})}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.city,n=e.today,c=e.time,r=e.icon;return 0===Object.keys(t).length?i.a.createElement("h1",{className:"loading"},"Loading"):i.a.createElement("div",{className:"detailWrapper"},i.a.createElement("div",{className:"cityWrapper"},i.a.createElement(E.a,{to:"/"},i.a.createElement(b,{className:"goBack",onClick:this.props.onClick.bind(this)},"\ud83e\udc50")),i.a.createElement("h1",{className:"cityName"},a,i.a.createElement("img",{className:r,src:"https://openweathermap.org/img/w/"+t.weather[0].icon+".png"})),i.a.createElement(S,null,n),i.a.createElement(S,{style:{display:this.state.displayTime}},c)),i.a.createElement("div",{className:"grid"},i.a.createElement(b,{className:"showForecast",onClick:this.onClickFetchForecast.bind(this),style:{display:this.state.display}}," v\xedce dn\xed "),i.a.createElement(N,{onClick:this.onClickForecast.bind(this),classClicked:this.state.classClicked,fifthDisplay:this.state.fifthDisplay}),i.a.createElement(g,{data:t}),i.a.createElement(w,{data:t})))}}]),t}(n.Component)),M="https://api.openweathermap.org/data/2.5/",J="appid=f714be673656be98ef85ddbba2ec76c3",I=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={data:{},error:!1},e.fetchData=e.fetchData.bind(Object(m.a)(Object(m.a)(e))),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"fetchData",value:function(e){var t=this;fetch(M+"weather?q="+e+"&units=metric&lang=cz&"+J).then(function(e){if(e.ok)return e.json();throw new Error}).then(function(e){t.setState({data:e,error:!1});var a=JSON.parse(localStorage.getItem("pocasiapp"));null!==a?a.push(e.name):(a=[]).push(e.name),localStorage.setItem("pocasiapp",JSON.stringify(a))}).catch(function(e){t.setState({error:!0})})}},{key:"onClick",value:function(){this.setState({data:{}})}},{key:"render",value:function(){var e=this;return i.a.createElement(h.a,{basename:"/pocasi"},i.a.createElement(p.a,null,i.a.createElement(f.a,{path:"/",component:function(){return i.a.createElement(O,{data:e.state.data,error:e.state.error,fetchData:e.fetchData})},exact:!0}),i.a.createElement(f.a,{path:"/city/:city",component:function(){return i.a.createElement(F,{data:e.state.data,API:M,forecast:"forecast?q=",APIKEY:J,metrics:"units=metric",lang:"lang=cz",onClick:e.onClick.bind(e)})}})))}}]),t}(n.Component);r.a.render(i.a.createElement(I,null),document.getElementById("root"))}},[[18,2,1]]]);
//# sourceMappingURL=main.a400cf96.chunk.js.map